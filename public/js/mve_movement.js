// Generated by CoffeeScript 1.7.1
(function() {
  var mve;

  mve = window.mve || {};

  window.mve = mve;

  mve.Movement = can.Model.extend({
    devMovements: [
      {
        startTime: 10,
        endTime: 13,
        movementId: 0,
        videoId: void 0,
        name: "Move 1",
        playing: false
      }, {
        startTime: 16,
        endTime: 20,
        movementId: 1,
        videoId: void 0,
        name: "Move 2",
        playing: false
      }, {
        startTime: 0,
        endTime: 10,
        movementId: 2,
        videoId: void 0,
        name: "Move 3",
        playing: false
      }
    ]
  }, {
    startTime: false,
    endTime: false,
    movementId: false,
    validated: false,
    videoId: false,
    name: false,
    playing: false,
    saved: false,
    init: function() {},
    isValid: function() {
      if (Number.isNaN(parseInt(this.startTime)) || Number.isNaN(parseInt(this.endTime))) {
        this.attr('validated', false);
        return false;
      }
      this.attr('validated', true);
      return true;
    },
    setStart: function(newTime, duration) {
      var difference, initialStartTime;
      initialStartTime = this.startTime;
      this.attr('startTime', newTime);
      if (this.isValid()) {
        if (newTime > this.endTime) {
          difference = Math.abs(initialStartTime - this.endTime);
          return this.attr('endTime', newTime + difference);
        }
      }
    },
    setEnd: function(newTime, duration) {
      var initialEndTime;
      initialEndTime = this.endTime;
      return this.attr('endTime', newTime);
    },
    fixTimes: function() {
      var difference;
      if (this.startTime > this.endTime) {
        difference = this.startTime - this.endTime;
        return this.attr('endTime', this.startTime + difference);
      }
    }
  });

}).call(this);
